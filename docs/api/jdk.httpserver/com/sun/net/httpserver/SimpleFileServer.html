<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (20) -->
<title>SimpleFileServer (Java SE 20 &amp; JDK 20)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.httpserver, package: com.sun.net.httpserver, class: SimpleFileServer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="com.sun.net.httpserver.SimpleFileServer class">
<meta name="keywords" content="createFileServer()">
<meta name="keywords" content="createFileHandler()">
<meta name="keywords" content="createOutputFilter()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 14px;"><strong>Java SE 20 &amp; JDK 20</strong> </div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SimpleFileServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../../new-list.html">New</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">jdk.httpserver</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.sun.net.httpserver</a></div>
<h1 title="Class SimpleFileServer" class="title">Class SimpleFileServer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="../../../../../java.base/java/lang/Object.html" title="class in java.lang">java.lang.Object</a>
<div class="inheritance">com.sun.net.httpserver.SimpleFileServer</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">SimpleFileServer</span>
<span class="extends-implements">extends <a href="../../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></span></div>
<div class="block">A simple HTTP file server and its components (intended for testing,
 development and debugging purposes only).

 <p> A simple file server is composed of three components:
 <ul>
   <li> an <a href="HttpServer.html" title="class in com.sun.net.httpserver"><code>HttpServer</code></a> that is bound to a given address, </li>
   <li> an <a href="HttpHandler.html" title="interface in com.sun.net.httpserver"><code>HttpHandler</code></a> that serves files from a given
        directory path, and </li>
   <li> an optional <a href="Filter.html" title="class in com.sun.net.httpserver"><code>Filter</code></a> that prints log messages relating to
        the exchanges handled by the server. </li>
 </ul>
 The individual server components can be retrieved for reuse and extension via
 the static methods provided.

 <h2 id="simple-file-server-heading">Simple file server</h2>

 <p> The <a href="#createFileServer(java.net.InetSocketAddress,java.nio.file.Path,com.sun.net.httpserver.SimpleFileServer.OutputLevel)"><code>createFileServer</code></a>
 static factory method returns an <a href="HttpServer.html" title="class in com.sun.net.httpserver"><code>HttpServer</code></a> that is a
 simple out-of-the-box file server. The server comes with an initial handler
 that serves files from a given directory path (and its subdirectories).
 The output level determines what log messages are printed to
 <code>System.out</code>, if any.

 <p> Example of a simple file server:
 <pre><code>
    var addr = new InetSocketAddress(8080);
    var server = SimpleFileServer.createFileServer(addr, Path.of("/some/path"), OutputLevel.INFO);
    server.start();
 </code></pre>

 <h2 id="file-handler-heading">File handler</h2>

 <p> The <a href="#createFileHandler(java.nio.file.Path)"><code>createFileHandler</code></a> static factory
 method returns an <code>HttpHandler</code> that serves files and directory
 listings. The handler supports only the <i>HEAD</i> and <i>GET</i> request
 methods; to handle other request methods, one can either add additional
 handlers to the server, or complement the file handler by composing a single
 handler via
 <a href="HttpHandlers.html#handleOrElse(java.util.function.Predicate,com.sun.net.httpserver.HttpHandler,com.sun.net.httpserver.HttpHandler)"><code>HttpHandlers.handleOrElse(Predicate, HttpHandler, HttpHandler)</code></a>.

 <p>Example of composing a single handler:
 <pre><code>
    var handler = HttpHandlers.handleOrElse(
        (req) -&gt; req.getRequestMethod().equals("PUT"),
        (exchange) -&gt; {
            // validate and handle PUT request
        },
        SimpleFileServer.createFileHandler(Path.of("/some/path")))
    );
 </code></pre>

 <h2 id="output-filter-heading">Output filter</h2>

 <p> The <a href="#createOutputFilter(java.io.OutputStream,com.sun.net.httpserver.SimpleFileServer.OutputLevel)"><code>createOutputFilter</code></a>
 static factory method returns a
 <a href="Filter.html#afterHandler(java.lang.String,java.util.function.Consumer)"><code>post-processing filter</code></a> that
 prints log messages relating to the exchanges handled by the server. The
 output format is specified by the <a href="SimpleFileServer.OutputLevel.html" title="enum class in com.sun.net.httpserver"><code>outputLevel</code></a>.

 <p> Example of an output filter:
 <pre><code>
    var filter = SimpleFileServer.createOutputFilter(System.out, OutputLevel.VERBOSE);
    var server = HttpServer.create(new InetSocketAddress(8080), 10, "/some/path/", new SomeHandler(), filter);
    server.start();
 </code></pre>

 <h2 id="jwebserver-tool-heading">jwebserver Tool</h2>

 <p>A simple HTTP file server implementation is provided via the
 <code>jwebserver</code> tool.</div>
<dl class="notes"><dt>Tool Guides:</dt>
<dd><a href="../../../../../../specs/man/jwebserver.html">jwebserver</a></dd>
<dt>Since:</dt>
<dd>18</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="SimpleFileServer.OutputLevel.html" class="type-name-link" title="enum class in com.sun.net.httpserver">SimpleFileServer.OutputLevel</a></code></div>
<div class="col-last even-row-color">
<div class="block">Describes the log message output level produced by the server when
 processing exchanges.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpHandler.html" title="interface in com.sun.net.httpserver">HttpHandler</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createFileHandler(java.nio.file.Path)" class="member-name-link">createFileHandler</a><wbr>(<a href="../../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;rootDirectory)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a <i>file handler</i> that serves files from a given directory
 path (and its subdirectories).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="HttpServer.html" title="class in com.sun.net.httpserver">HttpServer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createFileServer(java.net.InetSocketAddress,java.nio.file.Path,com.sun.net.httpserver.SimpleFileServer.OutputLevel)" class="member-name-link">createFileServer</a><wbr>(<a href="../../../../../java.base/java/net/InetSocketAddress.html" title="class in java.net">InetSocketAddress</a>&nbsp;addr,
 <a href="../../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;rootDirectory,
 <a href="SimpleFileServer.OutputLevel.html" title="enum class in com.sun.net.httpserver">SimpleFileServer.OutputLevel</a>&nbsp;outputLevel)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a <i>file server</i> that serves files from a given path.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Filter.html" title="class in com.sun.net.httpserver">Filter</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createOutputFilter(java.io.OutputStream,com.sun.net.httpserver.SimpleFileServer.OutputLevel)" class="member-name-link">createOutputFilter</a><wbr>(<a href="../../../../../java.base/java/io/OutputStream.html" title="class in java.io">OutputStream</a>&nbsp;out,
 <a href="SimpleFileServer.OutputLevel.html" title="enum class in com.sun.net.httpserver">SimpleFileServer.OutputLevel</a>&nbsp;outputLevel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a <a href="Filter.html#afterHandler(java.lang.String,java.util.function.Consumer)">post-processing Filter</a> that prints log messages about
 <a href="HttpExchange.html" title="class in com.sun.net.httpserver">exchanges</a>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class&nbsp;java.lang.<a href="../../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../../../java.base/java/lang/Object.html#clone()">clone</a>, <a href="../../../../../java.base/java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../../java.base/java/lang/Object.html#finalize()">finalize</a>, <a href="../../../../../java.base/java/lang/Object.html#getClass()">getClass</a>, <a href="../../../../../java.base/java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../../../java.base/java/lang/Object.html#notify()">notify</a>, <a href="../../../../../java.base/java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../../../java.base/java/lang/Object.html#toString()">toString</a>, <a href="../../../../../java.base/java/lang/Object.html#wait()">wait</a>, <a href="../../../../../java.base/java/lang/Object.html#wait(long)">wait</a>, <a href="../../../../../java.base/java/lang/Object.html#wait(long,int)">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createFileServer(java.net.InetSocketAddress,java.nio.file.Path,com.sun.net.httpserver.SimpleFileServer.OutputLevel)">
<h3>createFileServer</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpServer.html" title="class in com.sun.net.httpserver">HttpServer</a></span>&nbsp;<span class="element-name">createFileServer</span><wbr><span class="parameters">(<a href="../../../../../java.base/java/net/InetSocketAddress.html" title="class in java.net">InetSocketAddress</a>&nbsp;addr,
 <a href="../../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;rootDirectory,
 <a href="SimpleFileServer.OutputLevel.html" title="enum class in com.sun.net.httpserver">SimpleFileServer.OutputLevel</a>&nbsp;outputLevel)</span></div>
<div class="block">Creates a <i>file server</i> that serves files from a given path.

 <p> The server is configured with an initial context that maps the
 URI <code>path</code> to a <i>file handler</i>. The <i>file handler</i> is
 created as if by an invocation of
 <a href="#createFileHandler(java.nio.file.Path)"><code>createFileHandler(rootDirectory)</code></a>, and is
 associated to a context created as if by an invocation of
 <a href="HttpServer.html#createContext(java.lang.String)"><code>createContext("/")</code></a>. The returned
 server is not started.

 <p> An output level can be given to print log messages relating to the
 exchanges handled by the server. The log messages, if any, are printed to
 <code>System.out</code>. If <a href="SimpleFileServer.OutputLevel.html#NONE"><code>OutputLevel.NONE</code></a> is
 given, no log messages are printed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>addr</code> - the address to listen on</dd>
<dd><code>rootDirectory</code> - the root directory to be served, must be an absolute path</dd>
<dd><code>outputLevel</code> - the log message output level</dd>
<dt>Returns:</dt>
<dd>an HttpServer</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if root does not exist, is not absolute,
         is not a directory, or is not readable</dd>
<dd><code><a href="../../../../../java.base/java/io/UncheckedIOException.html" title="class in java.io">UncheckedIOException</a></code> - if an I/O error occurs</dd>
<dd><code><a href="../../../../../java.base/java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if any argument is null</dd>
<dd><code><a href="../../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if a security manager is installed and a
         recursive <a href="../../../../../java.base/java/io/FilePermission.html" title="class in java.io"><code>FilePermission</code></a> "<code>read</code>" of the
         rootDirectory is denied</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createFileHandler(java.nio.file.Path)">
<h3>createFileHandler</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="HttpHandler.html" title="interface in com.sun.net.httpserver">HttpHandler</a></span>&nbsp;<span class="element-name">createFileHandler</span><wbr><span class="parameters">(<a href="../../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;rootDirectory)</span></div>
<div class="block">Creates a <i>file handler</i> that serves files from a given directory
 path (and its subdirectories).

 <p> The file handler resolves the request URI against the given
 <code>rootDirectory</code> path to determine the path <code>p</code> on the
 associated file system to serve the response. If the path <code>p</code> is
 a directory, then the response contains a directory listing, formatted in
 HTML, as the response body. If the path <code>p</code> is a file, then the
 response contains a "Content-Type" header based on the best-guess
 content type, as determined by an invocation of
 <a href="../../../../../java.base/java/net/FileNameMap.html#getContentTypeFor(java.lang.String)">getContentTypeFor</a>,
 on the system-wide <a href="../../../../../java.base/java/net/URLConnection.html#getFileNameMap()"><code>mimeTable</code></a>, as
 well as the contents of the file as the response body.

 <p> The handler supports only requests with the <i>HEAD</i> or <i>GET</i>
 method, and will reply with a <code>405</code> response code for requests with
 any other method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootDirectory</code> - the root directory to be served, must be an absolute path</dd>
<dt>Returns:</dt>
<dd>a file handler</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if rootDirectory does not exist,
         is not absolute, is not a directory, or is not readable</dd>
<dd><code><a href="../../../../../java.base/java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if the argument is null</dd>
<dd><code><a href="../../../../../java.base/java/lang/SecurityException.html" title="class in java.lang">SecurityException</a></code> - if a security manager is installed and a
         recursive <a href="../../../../../java.base/java/io/FilePermission.html" title="class in java.io"><code>FilePermission</code></a> "<code>read</code>" of the
         rootDirectory is denied</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createOutputFilter(java.io.OutputStream,com.sun.net.httpserver.SimpleFileServer.OutputLevel)">
<h3>createOutputFilter</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Filter.html" title="class in com.sun.net.httpserver">Filter</a></span>&nbsp;<span class="element-name">createOutputFilter</span><wbr><span class="parameters">(<a href="../../../../../java.base/java/io/OutputStream.html" title="class in java.io">OutputStream</a>&nbsp;out,
 <a href="SimpleFileServer.OutputLevel.html" title="enum class in com.sun.net.httpserver">SimpleFileServer.OutputLevel</a>&nbsp;outputLevel)</span></div>
<div class="block">Creates a <a href="Filter.html#afterHandler(java.lang.String,java.util.function.Consumer)">post-processing Filter</a> that prints log messages about
 <a href="HttpExchange.html" title="class in com.sun.net.httpserver">exchanges</a>. The log messages are printed to
 the given <code>OutputStream</code> in <code>UTF-8</code> encoding.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>To not output any log messages it is recommended to not use a filter.</dd>
<dt>Parameters:</dt>
<dd><code>out</code> - the stream to print to</dd>
<dd><code>outputLevel</code> - the output level</dd>
<dt>Returns:</dt>
<dd>a post-processing filter</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <a href="SimpleFileServer.OutputLevel.html#NONE"><code>OutputLevel.NONE</code></a>
                                  is given</dd>
<dd><code><a href="../../../../../java.base/java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if any argument is null</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase20&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2023, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java20speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 20+36-2344 --></small></p>
</footer>
</div>
</div>
</body>
</html>
